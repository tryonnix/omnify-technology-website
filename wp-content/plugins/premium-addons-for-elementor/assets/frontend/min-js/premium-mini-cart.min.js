!function(o){function n(a,i){var t=a.find(".pa-woo-mc__outer-container").data("settings");if(t){elementorFrontend.isEditMode()&&i(document.body).trigger("wc_fragment_refresh"),i("html").addClass("msection-html");var n,e=i("body .premium-magic-section-body-inner"),c=t.trigger,r=!0,m=t.type,p=a.data("id"),s=t.style;i(".premium-magic-section-body-inner").length<1&&i("body").wrapInner('<div class="premium-magic-section-body-inner" />'),i(".premium-magic-section-body-inner > .pa-woo-mc__overlay-"+p).remove(),i(".premium-magic-section-body-inner").prepend(a.find(".pa-woo-mc__overlay")),a.find(".pa-woo-mc__inner-container").off("click.paToggleMiniCart mouseenter.paToggleMiniCart mouseleave.paToggleMiniCart"),function(o){o=o||500;i("body").addClass("animating"),e.css("transform","none"),i("html").css("height","auto"),setTimeout(function(){i("html").removeClass("offcanvas-open"),i("body").removeClass("animating")},o)}(10),function(){"click"===c?a.find(".pa-woo-mc__inner-container").on("click.paToggleMiniCart",o):(a.find(".pa-woo-mc__inner-container").on("mouseenter.paToggleMiniCart",o),a.on("mouseleave.paToggleMiniCart",function(o){n=setTimeout(function(){a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__open")},300)}));t.clickOutside&&i("body").on("click",function(o){i(o.target).is(i(".premium-tabs-nav-list-item, .pa-woo-mc__content-wrapper, .pa-woo-mc__content-wrapper *, .pa-woo-mc__inner-container, .pa-woo-mc__inner-container *"))||("menu"===m?a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__open"):r||a.find(".pa-woo-mc__close-button").trigger("click"))});a.find(".pa-woo-mc__close-button").on("click",function(){i(".pa-woo-mc__overlay-"+p).addClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).addClass("pa-woo-mc__anim-"+s),setTimeout(function(){r=!0,a.find(".pa-woo-mc__content-wrapper-"+p).css("display","none")},500)})}(),_(),d(),i(document.body).on("wc_fragments_refreshed",function(){_(),d()})}function o(o){"hover"===c?(o.stopPropagation(),clearTimeout(n),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden").addClass("pa-woo-mc__open")):"menu"===m?a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden").toggleClass("pa-woo-mc__open"):r&&(a.find(".pa-woo-mc__content-wrapper-"+p).css("display","flex"),i("html").css({height:"100%"}),i("html").addClass("offcanvas-open"),i(".pa-woo-mc__overlay-"+p).removeClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__anim-"+s),setTimeout(function(){r=!1},550))}function d(){var o=a.find(".pa-woo-mc__cart-footer").data("pa-footer-txt");if(o&&o.includes("{{count}}")){var n=a.find(".pa-woo-mc__cart-footer .pa-woo-mc__cart-count").text(),e=o.replace("{{count}}",'<span class="pa-woo-mc__cart-count">'+n+"</span>");a.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal-heading").html(e)}t.removeTxt&&a.find(".pa-woo-mc__remove-item span").text(t.removeTxt)}function _(){i(".pa-woo-mc__qty-btn").on("click",function(o){o.stopPropagation();var n=i(this).parent().find(".pa-woo-mc__input")[0],e=parseInt(i(n).attr("max")),t=parseInt(i(n).val());i(this).hasClass("plus")?e<=t?i(this).parents(".pa-woo-mc__item-wrapper").find(".pa-woo-mc__item-notice").text("*The current stock is only "+e):(n.stepUp(),i(n).trigger("change")):(n.stepDown(),i(n).trigger("change"))}),a.find(".pa-woo-mc__input").on("change",function(){var o=i(this).attr("name").replace("cart-",""),n=i(this).val();"1"===n?i(this).siblings(".pa-woo-mc__qty-btn.minus").addClass("disabled"):i(this).siblings(".pa-woo-mc__qty-btn.minus").removeClass("disabled"),l("pa_update_mc_qty",o,n)}),a.find(".pa-woo-mc__remove-item").on("click.paRemoveCartItem",function(o){o.stopPropagation(),l("pa_delete_cart_item",i(this).data("pa-item-key").replace("cart-",""),!1)}),a.find(".pa-woo-mc__input").on("click",function(o){o.stopPropagation()})}function l(o,n,e){var t={action:o,itemKey:n,nonce:PAWooMCartSettings.mini_cart_nonce};e&&(t.quantity=e),i.ajax({url:PAWooMCartSettings.ajaxurl,dataType:"JSON",type:"POST",data:t,beforeSend:function(){a.find(".pa-woo-mc__widget-shopping-outer-wrapper").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>')},success:function(o){i(document.body).trigger("wc_fragment_refresh")},error:function(o){console.log(o)},complete:function(o){a.find(".premium-loading-feed").remove()}})}}o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-mini-cart.default",n)})}(jQuery);